/* Medical Student Component Scoped Styles */
/* Tailwind is already loaded globally in src/index.css - don't duplicate here */

/* CSS Variables - define on html when medical student page is active */
/* VS Code Dark+ inspired colors (customized to requested palette) */
html.medicalstudent-active {
  /* Requested palette */
  --background: #1E1E1E; /* Deep charcoal/black */
  --card: #252526; /* Sidebar / chrome */
  --primary: #0E639C; /* Bright blue accent */

  /* Text */
  --foreground: #D4D4D4; /* Light gray */
  --card-foreground: #D4D4D4;
  --primary-foreground: #FFFFFF;

  /* UI surfaces */
  --popover: #252526;
  --popover-foreground: #FFFFFF;
  --secondary: #2A2D2E; /* Hover */
  --secondary-foreground: #D4D4D4;
  --muted: #2D2D30;
  --muted-foreground: #858585;
  --accent: #0E639C;
  --accent-foreground: #FFFFFF;

  /* Borders / focus */
  --border: #3E3E42;
  --input: #3E3E42;
  --ring: #0E639C;

  /* Misc (kept for existing components) */
  --destructive: #F14C4C;
  --destructive-foreground: #FFFFFF;
  --chart-1: oklch(0.65 0.18 195);
  --chart-2: oklch(0.70 0.15 150);
  --chart-3: oklch(0.75 0.12 80);
  --chart-4: oklch(0.65 0.20 280);
  --chart-5: oklch(0.70 0.18 30);
  --radius: 0.5rem;
  --sidebar: #252526;
  --sidebar-foreground: #D4D4D4;
  --sidebar-primary: #0E639C;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #2A2D2E;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #3E3E42;
  --sidebar-ring: #0E639C;
  
  /* Font configuration */
  --font-sans: 'Geist', 'Geist Fallback', system-ui, sans-serif;
  --font-mono: 'Geist Mono', 'Geist Mono Fallback', monospace;
}

html.medicalstudent-active .dark {
  /* Keep dark mode identical for this section */
  --background: #1E1E1E;
  --card: #252526;
  --primary: #0E639C;
  --foreground: #D4D4D4;
  --card-foreground: #D4D4D4;
  --primary-foreground: #FFFFFF;
  --popover: #252526;
  --popover-foreground: #FFFFFF;
  --secondary: #2A2D2E;
  --secondary-foreground: #D4D4D4;
  --muted: #2D2D30;
  --muted-foreground: #858585;
  --accent: #0E639C;
  --accent-foreground: #FFFFFF;
  --border: #3E3E42;
  --input: #3E3E42;
  --ring: #0E639C;
  --destructive: #F14C4C;
  --destructive-foreground: #FFFFFF;
  --sidebar: #252526;
  --sidebar-foreground: #D4D4D4;
  --sidebar-primary: #0E639C;
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: #2A2D2E;
  --sidebar-accent-foreground: #FFFFFF;
  --sidebar-border: #3E3E42;
  --sidebar-ring: #0E639C;
}

/* Base styles scoped to medical student page */
.medicalstudent-page {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-mono);
  min-height: 100vh;
  width: 100%;
}

/* Apply base styles to all elements within medical student page */
.medicalstudent-page * {
  border-color: var(--border);
}

/* Ensure body and html styling when medical student page is active */
html.medicalstudent-active,
body.medicalstudent-active {
  background-color: var(--background);
  color: var(--foreground);
  min-height: 100vh;
  margin: 0;
  padding: 0;
}

/* Ensure all children of medicalstudent-page inherit proper styling */
html.medicalstudent-active .medicalstudent-page,
html.medicalstudent-active .medicalstudent-page * {
  border-color: var(--border);
}

/* Custom scrollbar - scoped to medical student page */
.medicalstudent-page ::-webkit-scrollbar,
html.medicalstudent-active ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.medicalstudent-page ::-webkit-scrollbar-track,
html.medicalstudent-active ::-webkit-scrollbar-track {
  background: transparent;
}

.medicalstudent-page ::-webkit-scrollbar-thumb,
html.medicalstudent-active ::-webkit-scrollbar-thumb {
  background: oklch(0.35 0.01 260);
  border-radius: 4px;
}

.medicalstudent-page ::-webkit-scrollbar-thumb:hover,
html.medicalstudent-active ::-webkit-scrollbar-thumb:hover {
  background: oklch(0.45 0.01 260);
}

/* Selection color - scoped to medical student page */
.medicalstudent-page ::selection,
html.medicalstudent-active ::selection {
  background: color-mix(in srgb, var(--primary), transparent 70%);
}

/* (Intentionally no second override block; palette is defined once above.) */

/* Mobile responsive - scale down the entire IDE layout to maintain editor appearance */
@media (max-width: 768px) {
  .medicalstudent-page {
    transform: scale(0.85);
    transform-origin: top left;
    width: 117.65%; /* 100 / 0.85 to compensate for scale */
    min-height: 117.65vh;
    overflow-x: auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Ensure proper viewport on mobile */
  html.medicalstudent-active,
  body.medicalstudent-active {
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
  }
  
  /* Adjust activity bar for mobile - keep it visible but scaled */
  .medicalstudent-page .w-12 {
    width: 2.5rem;
    min-width: 2.5rem;
  }
  
  /* Smaller icons on mobile but still readable */
  .medicalstudent-page .w-5 {
    width: 1.125rem;
    height: 1.125rem;
  }
  
  /* Adjust padding on mobile */
  .medicalstudent-page .p-2\.5 {
    padding: 0.5rem;
  }
  
  /* Ensure title bar is visible */
  .medicalstudent-page .h-8 {
    min-height: 2rem;
  }
  
  /* Adjust tab bar height */
  .medicalstudent-page .h-9 {
    min-height: 2.25rem;
  }
}

@media (max-width: 640px) {
  .medicalstudent-page {
    transform: scale(0.75);
    width: 133.33%; /* 100 / 0.75 */
    min-height: 133.33vh;
  }
  
  /* Even smaller on very small screens */
  .medicalstudent-page .w-12 {
    width: 2rem;
    min-width: 2rem;
  }
  
  .medicalstudent-page .w-5 {
    width: 1rem;
    height: 1rem;
  }
  
  .medicalstudent-page .p-2\.5 {
    padding: 0.375rem;
  }
  
  /* Smaller text on very small screens */
  .medicalstudent-page .text-xs {
    font-size: 0.625rem;
  }
}

/* Tooltip positioning adjustments for mobile - show on touch for accessibility */
@media (max-width: 768px) {
  .medicalstudent-page [class*="absolute"][class*="left-full"] {
    /* Keep tooltips but adjust position for mobile */
    left: auto;
    right: 100%;
    margin-right: 0.5rem;
    margin-left: 0;
  }
  
  .medicalstudent-page [class*="absolute"][class*="left-full"] > div[class*="border-r"] {
    /* Flip tooltip arrow for right-side positioning */
    right: -0.25rem;
    left: auto;
    border-right: none;
    border-left: 4px solid var(--popover);
  }
}

/* Touch-friendly button sizes on mobile */
@media (max-width: 768px) {
  .medicalstudent-page button,
  .medicalstudent-page a[class*="p-2"] {
    min-width: 2.5rem;
    min-height: 2.5rem;
    touch-action: manipulation; /* Prevent double-tap zoom */
  }
}
